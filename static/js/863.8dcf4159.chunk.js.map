{"version":3,"file":"static/js/863.8dcf4159.chunk.js","mappings":"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","sources":["components/ProductForm/ProductForm.styled.tsx","components/ProductForm/ProductForm.tsx"],"sourcesContent":["import styled from 'styled-components';\r\nimport { Form, Field } from 'formik';\r\n\r\nexport const StyledForm = styled(Form)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  border: 1px solid #ccc;\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\r\n`;\r\n\r\nexport const Label = styled.label`\r\n font-family: 'Inspiration', cursive;\r\n  margin-bottom: 5px;\r\n  font-weight: bold;\r\n`;\r\n\r\nexport const Input = styled(Field)`\r\n  padding: 10px;\r\n  margin-bottom: 15px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);\r\n  font-size: 16px;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  width: 50%;\r\n  margin: 0 auto;\r\n  padding: 10px 20px;\r\n  margin-top: 20px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  background-color: #007bff;\r\n  color: #fff;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    background-color: #0069d9;\r\n  }\r\n`;\r\n\r\nexport const ErrorMsg = styled.div`\r\n  color: red;\r\n  margin-bottom: 10px;\r\n`;","import { useDispatch } from 'react-redux';\r\nimport { addProduct } from '../../redux/actions/productActions';\r\nimport { Formik, FormikHelpers,FormikState } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Label, StyledForm, Input, Button } from './ProductForm.styled';\r\n\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  title: Yup.string().required('Обов\\'язкове поле'),\r\n  description: Yup.string().required('Обов\\'язкове поле'),\r\n  price: Yup.number().required('Обов\\'язкове поле').min(0, 'Ціна повинна бути не менше 0'),\r\n  discountPercentage: Yup.number().required('Обов\\'язкове поле').min(0, 'Знижка повинна бути не менше 0').max(100, 'Знижка не може бути більше 100'),\r\n  rating: Yup.number().required('Обов\\'язкове поле').min(0, 'Рейтинг повинен бути не менше 0').max(5, 'Рейтинг не може бути більше 5'),\r\n  stock: Yup.number().required('Обов\\'язкове поле').min(0, 'Запаси повинні бути не менше 0'),\r\n  brand: Yup.string().required('Обов\\'язкове поле'),\r\n  category: Yup.string().required('Обов\\'язкове поле'),\r\n  thumbnail: Yup.string().url('Неправильний формат URL').required('Обов\\'язкове поле'),\r\n  images: Yup.array().of(Yup.string().url('Неправильний формат URL')).required('Обов\\'язкове поле'),\r\n  author: Yup.string().required('Обов\\'язкове поле'),\r\n  yearOfPublication: Yup.number().required('Обов\\'язкове поле').min(1900, 'Рік видання повинен бути після 1900').max(2023,'Рік видання повинен бути до 2023'),\r\n});\r\ntype ProductFormValues = {\r\n  title: string;\r\n  description: string;\r\n  price: string;\r\n  discountPercentage: string;\r\n  rating: string;\r\n  stock: string;\r\n  brand: string;\r\n  category: string;\r\n  thumbnail: string;\r\n  images: string[];\r\n  author: string;\r\n  yearOfPublication: string;\r\n};\r\ntype FormikReset = {\r\n  resetForm: (nextState?: Partial<FormikState<ProductFormValues>>) => void;\r\n};\r\nexport const ProductForm = () => {\r\n    const dispatch = useDispatch();\r\n   \r\n    const onHandleSubmit = async (\r\n  values: ProductFormValues,\r\n  { resetForm }: FormikReset,\r\n) => {\r\n    console.log('values', values);\r\n\r\n    try {\r\n      const response = await fetch('https://dummyjson.com/products/add', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(values),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error: ${response.status}`);\r\n      }\r\n\r\n      const newProduct = await response.json();\r\n      toast.success(\"Успіх! Товар додано \\u{1F44D}\");\r\n      dispatch(addProduct(newProduct));\r\n      resetForm();\r\n    } catch (error) {\r\n      console.error('Error adding product:', error);\r\n    }\r\n  };\r\n\r\n    return (\r\n        <div>\r\n        <Formik initialValues={{\r\n            title: '',\r\n            description: '',\r\n            price: '',\r\n            discountPercentage: '',\r\n            rating: '',\r\n            stock: '',\r\n            brand: '',\r\n            category: '',\r\n            thumbnail: '',\r\n            images: [''],\r\n            author: '',\r\n            yearOfPublication: '',\r\n        }}\r\n            validationSchema={validationSchema}\r\n          onSubmit={(values, { resetForm }: FormikHelpers<ProductFormValues> & FormikReset) => {\r\n  onHandleSubmit(values, { resetForm });\r\n}}\r\n\r\n      >\r\n            {props => (\r\n                \r\n                <StyledForm>\r\n          <Label htmlFor=\"author\">Автор:</Label>\r\n      <Input\r\n        type=\"text\"\r\n        id=\"author\"\r\n        name=\"author\"\r\n         value={props.values.author}\r\n      />\r\n                    {props.touched.author && props.errors.author ? <div>{props.errors.author}</div> : null}\r\n     <Label htmlFor=\"yearOfPublication\">Рік:</Label>\r\n      <Input\r\n        type=\"number\"\r\n        id=\"yearOfPublication\"\r\n        name=\"yearOfPublication\"\r\n         value={props.values.yearOfPublication}\r\n      />\r\n                    {props.touched.yearOfPublication && props.errors.yearOfPublication ? <div>{props.errors.yearOfPublication}</div> : null}\r\n                    \r\n      <Label htmlFor=\"title\">Назва:</Label>\r\n      <Input\r\n        type=\"text\"\r\n        id=\"title\"\r\n        name=\"title\"\r\n         value={props.values.title}\r\n      />\r\n      {props.touched.title && props.errors.title ? <div>{props.errors.title}</div> : null}\r\n\r\n      <Label htmlFor=\"description\">Опис:</Label>\r\n      <Input\r\n        type=\"text\"\r\n        id=\"description\"\r\n        name=\"description\"\r\n         value={props.values.description}\r\n      />\r\n      {props.touched.description && props.errors.description ? <div>{props.errors.description}</div> : null}\r\n\r\n      <Label htmlFor=\"price\">Ціна:</Label>\r\n          <Input\r\n              type=\"number\"\r\n              id=\"price\"\r\n              name=\"price\"\r\n               value={props.values.price}\r\n      />\r\n      {props.touched.price && props.errors.price ? <div>{props.errors.price}</div> : null}\r\n\r\n      <Label htmlFor=\"discountPercentage\">Знижка (у відсотках):</Label>\r\n      <Input\r\n        type=\"number\"\r\n        id=\"discountPercentage\"\r\n        name=\"discountPercentage\"\r\n         value={props.values.discountPercentage}\r\n      />\r\n      {props.touched.discountPercentage && props.errors.discountPercentage ? <div>{props.errors.discountPercentage}</div> : null}\r\n\r\n      <Label htmlFor=\"rating\">Рейтинг:</Label>\r\n      <Input\r\n        type=\"number\"\r\n        id=\"rating\"\r\n        name=\"rating\"\r\n         value={props.values.rating}\r\n      />\r\n      {props.touched.rating && props.errors.rating ? <div>{props.errors.rating}</div> : null}\r\n\r\n      <Label htmlFor=\"stock\">Запаси:</Label>\r\n      <Input\r\n        type=\"number\"\r\n        id=\"stock\"\r\n        name=\"stock\"\r\n         value={props.values.stock}\r\n      />\r\n      {props.touched.stock && props.errors.stock ? <div>{props.errors.stock}</div> : null}\r\n\r\n      <Label htmlFor=\"brand\">Бренд:</Label>\r\n      <Input\r\n        type=\"text\"\r\n        id=\"brand\"\r\n        name=\"brand\"\r\n        value={props.values.brand}\r\n      />\r\n      {props.touched.brand && props.errors.brand ? <div>{props.errors.brand}</div> : null}\r\n\r\n      <Label htmlFor=\"category\">Категорія:</Label>\r\n      <Input\r\n        type=\"text\"\r\n        id=\"category\"\r\n        name=\"category\"\r\n         value={props.values.category}\r\n      />\r\n      {props.touched.category && props.errors.category ? <div>{props.errors.category}</div> : null}\r\n\r\n      <Label htmlFor=\"thumbnail\">Невеличке зображення:</Label>\r\n      <Input\r\n        type=\"url\"\r\n        id=\"thumbnail\"\r\n        name=\"thumbnail\"\r\n         value={props.values.thumbnail}\r\n      />\r\n      {props.touched.thumbnail && props.errors.thumbnail ? <div>{props.errors.thumbnail}</div> : null}\r\n\r\n      <Label htmlFor=\"images\">Зображення:</Label>\r\n      {props.values.images.map((image, index) => (\r\n        <div key={index}>\r\n              <Input\r\n            style={{ width: \"100%\" }}\r\n            type=\"url\"\r\n            id={`images.${index}`}\r\n            name={`images.${index}`}\r\n            value={image}\r\n          />\r\n          {props.touched.images && props.errors.images ? <div>{props.errors.images[index]}</div> : null}\r\n        </div>\r\n      ))}\r\n      <Button type=\"button\" onClick={() => props.setFieldValue(\"images\", [...props.values.images, \"\"])}>Додати зображення</Button>\r\n\r\n      <Button type=\"submit\">Додати товар</Button>\r\n                </StyledForm>\r\n            )} \r\n            \r\n            </Formik>\r\n            <ToastContainer />\r\n            </div>\r\n  );\r\n};\r\n\r\nexport default ProductForm;\r\n"],"names":["StyledForm","styled","Form","Label","Input","Field","Button","validationSchema","Yup","shape","title","required","description","price","min","discountPercentage","max","rating","stock","brand","category","thumbnail","url","images","of","author","yearOfPublication","ProductForm","dispatch","useDispatch","onHandleSubmit","values","resetForm","console","log","fetch","method","headers","body","JSON","stringify","response","ok","Error","status","json","newProduct","toast","addProduct","error","initialValues","onSubmit","props","htmlFor","type","id","name","value","touched","errors","map","image","index","style","width","onClick","setFieldValue"],"sourceRoot":""}