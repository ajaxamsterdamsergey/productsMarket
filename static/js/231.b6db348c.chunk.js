"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[231],{5231:function(n,e,t){t.r(e),t.d(e,{default:function(){return cn}});var r,o,i,c,s,a,u,l,d,f=t(1413),h=t(2791),p=t(9434),x=function(n){return n.products.products},g=function(n){return n.products.filteredProducts},m=function(n){return n.products.lastSearchQuery},j=t(4942),v=t(3433),b=t(9439),w=t(5861),k=t(4687),y=t.n(k),Z=t(2507),C=t(9983),P=t(227),E=(t(5462),t(168)),S=t(82),L=t(6036),z=(0,S.ZP)(L.OZs)(r||(r=(0,E.Z)(["\n  &:hover {\n    transform: scale(1.2);\n    cursor: pointer;\n  }\n"]))),I=t(184),N=function(n){var e=n.onClick;return(0,I.jsx)(C.Pd.Provider,{value:{color:"red",size:"2em",className:"global-class-name"},children:(0,I.jsx)("div",{children:(0,I.jsx)(z,{onClick:e})})})},O=t(3728),A=(0,S.ZP)(O.Vdw)(o||(o=(0,E.Z)(["\n  &:hover {\n    transform: scale(1.2);\n    cursor: pointer;\n  }\n"]))),D=t(1087),T=function(n){var e=n.to;n.id;return(0,I.jsx)(C.Pd.Provider,{value:{size:"1.9em",className:"global-class-name"},children:(0,I.jsx)("div",{children:(0,I.jsx)(D.rU,{to:e,style:{textDecoration:"none"},children:(0,I.jsx)(A,{})})})})},_=t(2867),J=S.ZP.button(i||(i=(0,E.Z)(["\n  display: block;\n  margin: ","px auto;\n  padding: 8px 16px;\n  border-radius: ",";\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  color: #fff;\n  border: ",";\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: ",";\n  line-height: 24px;\n  font-style: normal;\n  font-weight: ",";\n  min-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n  &:focus {\n    background-color: #303f9f;\n  }\n  &:hover {\n    background-color: #303f9f;\n  }\n"])),(function(n){return n.theme.space[4]}),(function(n){return n.theme.radii.sm}),(function(n){return n.theme.borders.none}),(function(n){return n.theme.fontSizes.m}),(function(n){return n.theme.fontWeights.bold})),V=function(n){var e=n.onClick,t=n.children;return(0,I.jsx)(J,{onClick:e,children:t})},U=t(6355),B=S.ZP.div(c||(c=(0,E.Z)(["\n display: flex;\n"]))),F=S.ZP.table(s||(s=(0,E.Z)(["\n  border-collapse: collapse;\n  width: 100%;\n  margin-bottom: 2rem;\n  font-size: 1rem;\n  font-weight: 400;\n  text-align: left;\n  width: 100%;\n  table-layout: fixed;\n  white-space: nowrap;\n  overflow-x: auto;\n\n  th,\n  td {\n    text-align: left;\n    padding: 8px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  th {\n    background-color: #f2f2f2;\n    font-weight: 700;\n    text-transform: uppercase;\n    color: #333333;\n    width: 13%;\n  }\n\n  td img {\n    max-width: 100px;\n    max-height: 100px;\n  }\n\n  tbody tr:nth-of-type(even) {\n    background-color: #f9f9f9;\n  }\n\n  tbody tr:hover {\n    background-color: #e8f4ff;\n  }\n"]))),H=S.ZP.div(a||(a=(0,E.Z)(["\n  display: flex;\n  align-items: center;\n  width: 200px;\n"]))),K=S.ZP.input(u||(u=(0,E.Z)(["\n  /* flex: 1; */\n  width: 100px;\n  font-size: 1rem;\n  padding: 0.5rem 0.5rem 0.5rem 2.5rem;\n  border-radius: 3px;\n  border: 1px solid #ced4da;\n  background-position: 5px center;\n  background-repeat: no-repeat;\n\n  &:focus {\n    outline: none;\n  }\n"]))),Q=S.ZP.button(l||(l=(0,E.Z)(["\n  background-color: #b4d4cc;\n  color: #fff;\n  border: 1px solid #b4d4cc;\n  border-radius: 3px;\n  padding: 0.5rem 0.75rem;\n  font-size: 1rem;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  position: relative;\n  right: 10%;\n\n  margin-left: 8px;\n\n  &:hover {\n    background-color: #80c4b3;\n    border-color: #80c4b3;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n\n  ","\n"])),(function(n){return n.active&&(0,S.iv)(d||(d=(0,E.Z)(["\n      background-color: #5baeaf;\n      color: #fff;\n    "])))})),R=function(){var n=(0,w.Z)(y().mark((function n(e,t,r){var o,i,c,s=arguments;return y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=s.length>3&&void 0!==s[3]?s[3]:10,e(!0),n.prev=2,n.next=5,fetch("https://dummyjson.com/products?skip=".concat(r,"&limit=").concat(o));case 5:return i=n.sent,n.next=8,i.json();case 8:c=n.sent,t((0,Z.RU)(c.products)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),console.error("Error fetching products:",n.t0);case 15:return n.prev=15,e(!1),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,12,15,18]])})));return function(e,t,r){return n.apply(this,arguments)}}(),W=function(n,e){return n.filter((function(n){return e.every((function(e){return Object.entries(e).every((function(e){var t=(0,b.Z)(e,2),r=t[0],o=t[1];if(!o)return!0;var i=n[r];return"string"===typeof i?i.toLowerCase().includes(o.toLowerCase()):"number"===typeof i?String(i).includes(o):!!Array.isArray(i)&&i.some((function(n){return n.toLowerCase().includes(o.toLowerCase())}))}))}))}))},q=function(){var n=(0,h.useState)(0),e=(0,b.Z)(n,2),t=e[0],r=e[1],o=(0,p.I0)(),i=(0,p.v9)(x),c=(0,p.v9)(g),s=(0,p.v9)(m),a=(0,h.useState)(""),u=(0,b.Z)(a,2),l=u[0],d=u[1],k=(0,h.useState)(null),E=(0,b.Z)(k,2),S=E[0],L=E[1],z=(0,h.useState)("asc"),O=(0,b.Z)(z,2),A=O[0],D=O[1],J=(0,h.useState)(!1),q=(0,b.Z)(J,2),G=q[0],M=q[1],X=(0,h.useState)({}),Y=(0,b.Z)(X,2),$=Y[0],nn=Y[1],en=(0,h.useState)([]),tn=(0,b.Z)(en,2),rn=tn[0],on=tn[1],cn=(0,h.useState)(""),sn=(0,b.Z)(cn,1)[0],an=(0,h.useState)(!1),un=(0,b.Z)(an,2),ln=un[0],dn=un[1];(0,h.useEffect)((function(){G||0!==i.length||(M(!0),R(dn,o,0))}),[o,i,G]),(0,h.useEffect)((function(){on(c)}),[c]),(0,h.useEffect)((function(){}),[rn]),(0,h.useEffect)((function(){var n=(0,v.Z)(c);S&&n.sort((function(n,e){return"asc"===A?n[S]>e[S]?1:-1:n[S]<e[S]?1:-1})),on(n)}),[c,S,A]);var fn,hn=function(n){d(n);var e=S===n&&"asc"===A?"desc":"asc";L(n),D(e),o((0,Z.Zj)(n,e))},pn=function(n,e){var t=(0,f.Z)((0,f.Z)({},$),{},(0,j.Z)({},e,n.target.value));for(var r in t)t[r]||delete t[r];nn(t);var o=Object.keys(t).reduce((function(n,e){return t[e]&&n.push((0,j.Z)({},e,t[e])),n}),[]),i=sn.length?W(c,[].concat((0,v.Z)(o),[t])).filter((function(n){return n.title.toLowerCase().includes(sn.toLowerCase())||n.category.toLowerCase().includes(sn.toLowerCase())||String(n.id).includes(sn)})):W(c,o);on(i)},xn=function(){var n=(0,w.Z)(y().mark((function n(){var e,i,c;return y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(e=t+10),n.prev=2,n.next=5,fetch("https://dummyjson.com/products?skip=".concat(e,"&limit=10"));case 5:return i=n.sent,n.next=8,i.json();case 8:c=n.sent,o((0,Z.iB)(c.products)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),console.error("Error fetching more products:",n.t0);case 15:case"end":return n.stop()}}),n,null,[[2,12]])})));return function(){return n.apply(this,arguments)}}();return(0,I.jsxs)(I.Fragment,{children:[ln&&(0,I.jsx)(_.Z,{}),(0,I.jsxs)(F,{children:[(0,I.jsx)("thead",{children:(0,I.jsx)(C.Pd.Provider,{value:{size:"0.8em",className:"global-class-name"},children:(0,I.jsxs)("tr",{children:[(0,I.jsxs)("th",{children:["ID",(0,I.jsxs)(H,{children:[(0,I.jsx)(K,{onChange:function(n){return pn(n,"id")}}),(0,I.jsx)(Q,{active:"id"===l,onClick:function(){return hn("id")},children:(0,I.jsx)(U.roE,{})})]})]}),(0,I.jsxs)("th",{children:["\u041d\u0430\u0437\u0432\u0430",(0,I.jsxs)(H,{children:[(0,I.jsx)(K,{onChange:function(n){return pn(n,"title")}}),(0,I.jsx)(Q,{active:"title"===l,onClick:function(){return hn("title")},children:(0,I.jsx)(U.roE,{})})]})]}),(0,I.jsxs)("th",{children:["\u041e\u043f\u0438\u0441",(0,I.jsxs)(H,{children:[(0,I.jsx)(K,{onChange:function(n){return pn(n,"description")}}),(0,I.jsx)(Q,{active:"description"===l,onClick:function(){return hn("description")},children:(0,I.jsx)(U.roE,{})})]})]}),(0,I.jsxs)("th",{children:["\u0424\u043e\u0442\u043e",(0,I.jsxs)(H,{children:[(0,I.jsx)(K,{disabled:!0}),(0,I.jsx)(Q,{disabled:!0,children:(0,I.jsx)(U.roE,{})})]})]}),(0,I.jsxs)("th",{children:["\u0426\u0456\u043d\u0430",(0,I.jsxs)(H,{children:[(0,I.jsx)(K,{onChange:function(n){return pn(n,"price")}}),(0,I.jsx)(Q,{active:"price"===l,onClick:function(){return hn("price")},children:(0,I.jsx)(U.roE,{})})]})]}),(0,I.jsxs)("th",{children:["\u0420\u0435\u0439\u0442\u0438\u043d\u0433",(0,I.jsxs)(H,{children:[(0,I.jsx)(K,{onChange:function(n){return pn(n,"rating")}}),(0,I.jsx)(Q,{active:"rating"===l,onClick:function(){return hn("rating")},children:(0,I.jsx)(U.roE,{})})]})]}),(0,I.jsxs)("th",{children:["\u0421\u0442\u043e\u043a",(0,I.jsxs)(H,{children:[(0,I.jsx)(K,{onChange:function(n){return pn(n,"stock")}}),(0,I.jsx)(Q,{active:"stock"===l,onClick:function(){return hn("stock")},children:(0,I.jsx)(U.roE,{})})]})]}),(0,I.jsxs)("th",{children:["\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f",(0,I.jsxs)(H,{children:[(0,I.jsx)(K,{onChange:function(n){return pn(n,"category")}}),(0,I.jsx)(Q,{active:"category"===l,onClick:function(){return hn("category")},children:(0,I.jsx)(U.roE,{})})]})]}),(0,I.jsx)("th",{style:{width:"8%"}})]})})}),(0,I.jsx)("tbody",{children:rn&&Array.isArray(rn)&&rn.length>0?rn.map((function(n){return(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{children:n.id}),(0,I.jsx)("td",{children:n.title}),(0,I.jsx)("td",{children:n.description}),(0,I.jsx)("td",{children:(0,I.jsx)("img",{src:n.images&&n.images.length>0?n.images[0]:"https://i.dummyjson.com/data/products/2/1.jpg",alt:n.title})}),(0,I.jsx)("td",{children:n.price}),(0,I.jsx)("td",{children:n.rating}),(0,I.jsx)("td",{children:n.stock}),(0,I.jsx)("td",{children:n.category}),(0,I.jsx)("td",{children:(0,I.jsxs)(B,{children:[(0,I.jsx)(N,{onClick:function(){return e=n.id,void fetch("https://dummyjson.com/products/".concat(e),{method:"DELETE"}).then((function(n){if(!n.ok)throw new Error("HTTP error: ".concat(n.status));return n.json()})).then((function(n){P.Am.success("\u0423\u0441\u043f\u0456\u0445! \u0422\u043e\u0432\u0430\u0440 ".concat(n.title," \u0437 id ").concat(e," \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e \ud83d\udc4d")),o((0,Z.Ir)(e)),on(rn.filter((function(n){return n.id!==e})))})).catch((function(n){console.error("Error deleting product:",n)}));var e}}),(0,I.jsx)(T,{to:"/".concat(n.id),id:n.id})]})})]},n.id)})):(0,I.jsx)("tr",{})})]}),rn.length>0&&0===s.length&&(fn=$,0===Object.keys(fn).length)&&(0,I.jsx)(V,{onClick:xn,children:"Load more..."}),(0,I.jsx)(P.Ix,{})]})};var G,M,X,Y,$=t(5705),nn=(0,S.ZP)($.gN)(G||(G=(0,E.Z)(["\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: ",";\n  border: ",";\n  outline: none;\n  padding-left: "," px;\n  padding-right: "," px;\n  &::placeholder {\n    font: inherit;\n    font-size: ",";\n  }\n"])),(function(n){return n.theme.fontSizes.ml}),(function(n){return n.theme.borders.none}),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[2]}),(function(n){return n.theme.fontSizes.m})),en=S.ZP.header(M||(M=(0,E.Z)(["\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n"]))),tn=(0,S.ZP)($.l0)(X||(X=(0,E.Z)(["\n  font-family: 'Inspiration', cursive;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: ",";\n  overflow: hidden;\n"])),(function(n){return n.theme.radii.sm})),rn=S.ZP.button(Y||(Y=(0,E.Z)(["\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: ",";\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n"])),(function(n){return n.theme.borders.none})),on=function(){var n=(0,p.I0)(),e=function(n,e){var t=(0,h.useState)((function(){var t=window.localStorage.getItem(n);return null!==t?JSON.parse(t):e})),r=(0,b.Z)(t,2),o=r[0],i=r[1];return(0,h.useEffect)((function(){window.localStorage.setItem(n,JSON.stringify(o))}),[n,o]),[o,i]}("filter",""),t=(0,b.Z)(e,2),r=t[0],o=t[1],i=(0,p.v9)(x),c=(0,h.useState)([]),s=(0,b.Z)(c,2),a=s[0],u=s[1];(0,h.useEffect)((function(){var n=function(){var n=(0,w.Z)(y().mark((function n(){var e,t;return y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://dummyjson.com/products?skip=0&limit=110");case 2:return e=n.sent,n.next=5,e.json();case 5:t=n.sent,u(t.products);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]);var l=function(e){if(void 0!==e)if(""===e)o(e),n((0,Z.gu)(i,e));else{var t=a.filter((function(n){return n.title.toLowerCase().includes(e.toLowerCase())||n.category.toLowerCase().includes(e.toLowerCase())}));o(e),n((0,Z.gu)(t,e))}},d=(0,h.useCallback)((function(e){if(""===e)n((0,Z.gu)(i,e));else{var t=a.filter((function(n){return n.title.toLowerCase().includes(e.toLowerCase())||n.category.toLowerCase().includes(e.toLowerCase())}));n((0,Z.gu)(t,e))}}),[n,a,i]);return(0,h.useEffect)((function(){d(r)}),[r,d]),(0,I.jsx)(en,{children:(0,I.jsx)($.J9,{initialValues:{filter:""},onSubmit:function(n,e){return l(n.filter)},children:(0,I.jsxs)(tn,{children:[(0,I.jsx)(C.Pd.Provider,{value:{size:"1.6em",className:"global-class-name"},children:(0,I.jsx)(rn,{type:"submit",onClick:function(n){n.preventDefault()},children:(0,I.jsx)(O.Vph,{})})}),(0,I.jsx)($.gN,{as:nn,type:"text",name:"filter",placeholder:"\u041f\u043e\u0448\u0443\u043a \u0437\u0430 \u043d\u0430\u0437\u0432\u043e\u044e \u0430\u0431\u043e \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0454\u044e",onChange:function(n){return l(n.target.value)},value:r,onKeyPress:function(n){"Enter"===n.key&&n.preventDefault()}})]})})})},cn=function(n){n.productListProps;var e={products:(0,p.v9)(g),searchTerm:(0,p.v9)(m)};return(0,I.jsxs)("div",{children:[(0,I.jsx)(on,{}),(0,I.jsx)(q,(0,f.Z)({},e))]})}}}]);
//# sourceMappingURL=231.b6db348c.chunk.js.map